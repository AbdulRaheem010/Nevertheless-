<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Techxagon Academy-PSSA Examination Portal</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo-container">
                <img src="Techxagon-Academy.png" alt="Techxagon Academy Logo" class="logo" id="left-logo" onerror="this.style.display='none'">
                <div>
                    <h1 class="brand-title">TECHXAGON ACADEMY</h1>
                    <p class="brand-subtitle">Readying the Future</p>
                </div>
                <img src="police.jpg" alt="Police Secondary School Akure Logo" class="logo" id="right-logo" onerror="this.style.display='none'">
            </div>
        </div>
    </header>

    <div class="main-container">
        <!-- Student Login -->
        <div id="student-login" class="card">
            <div class="card-header">
                Student Login
            </div>
            <div class="card-body">
                <div class="text-center mb-4">
                    <h4>Enter Your Student ID to Continue</h4>
                    <p class="text-muted">Use your school registration number</p>
                </div>
                <div class="student-id-input">
                    <div class="form-group">
                        <label for="student-id" class="form-label">Student ID</label>
                        <input type="text" class="form-control" id="student-id" placeholder="e.g., PSSA/JSS1A/001">
                        <div class="form-text">Format: PSSA/CLASS/ARM/NUMBER (e.g., PSSA/JSS1A/001)</div>
                    </div>
                    <div class="form-group">
                        <label for="student-name" class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="student-name" placeholder="Enter your full name as registered">
                        <div class="form-text">Enter your full name exactly as registered in the system</div>
                    </div>
                    
                    <!-- Validation message -->
                    <div id="login-validation" class="alert alert-warning">
                        <small>Checking student credentials...</small>
                    </div>
                    
                    <button id="student-login-btn" class="btn btn-primary w-100">Continue to Exam</button>
                </div>
                
                <!-- Emergency Contact -->
                <div class="emergency-contact">
                    <h6>Need Help?</h6>
                    <p class="mb-1"><small>If you encounter any issues during the exam, please contact:</small></p>
                    <p class="mb-1"><small><strong>TECH TUTOR 1:</strong> 0901-342-1812</small></p>
                    <p class="mb-0"><small><strong>TECH TUTOR 2:</strong> 0903-182-2536</small></p>
                </div>
                
                <div class="mt-5 pt-4 border-top text-center">
                    <button id="admin-login-btn" class="btn btn-accent">Admin Login</button>
                </div>
            </div>
        </div>

        <!-- Class Selection -->
        <div id="class-selection" class="card">
            <div class="card-header">
                Select Your Class
            </div>
            <div class="card-body">
                <div class="mb-4">
                    <h5>Student: <span id="student-info" class="text-primary"></span></h5>
                </div>
                
                <div class="row">
                    <!-- Junior Section -->
                    <div class="col-md-6 class-section">
                        <h3 class="class-title">Junior Secondary School</h3>
                        <div class="list-group">
                            <button class="list-group-item class-select" data-level="JSS1">JSS 1</button>
                            <button class="list-group-item class-select" data-level="JSS2">JSS 2</button>
                            <button class="list-group-item class-select" data-level="JSS3">JSS 3</button>
                        </div>
                    </div>
                    
                    <!-- Senior Section -->
                    <div class="col-md-6 class-section">
                        <h3 class="class-title">Senior Secondary School</h3>
                        <div class="list-group">
                            <button class="list-group-item class-select" data-level="SS1">SS 1</button>
                            <button class="list-group-item class-select" data-level="SS2">SS 2</button>
                            <button class="list-group-item class-select" data-level="SS3">SS 3</button>
                        </div>
                    </div>
                </div>
                
                <!-- Class Arms Selection -->
                <div id="arms-selection" class="mt-4">
                    <h4 class="mb-3">Select Your Arm</h4>
                    <div id="arms-container" class="d-flex flex-wrap gap-2">
                        <!-- Arms will be populated dynamically -->
                    </div>
                    <button id="start-exam-btn" class="btn btn-primary mt-3">Start Examination</button>
                </div>
                
                <div class="mt-3">
                    <button id="back-to-login" class="btn btn-secondary">Back to Login</button>
                </div>
            </div>
        </div>

        <!-- Exam Interface -->
        <div id="exam-interface" class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <div>
                    <span id="exam-title">Exam in Progress</span>
                    <small id="student-exam-info"></small>
                </div>
                <div class="timer" id="exam-timer">30:00</div>
            </div>
            <div class="card-body">
                <!-- Progress Bar -->
                <div id="exam-progress">
                    <div class="progress">
                        <div class="progress-bar" role="progressbar"></div>
                    </div>
                    <small class="text-muted">Exam Progress: <span id="progress-text">0%</span></small>
                </div>
                
                <!-- Keyboard Help -->
                <div class="d-flex justify-content-between align-items-center mt-2">
                    <button id="keyboard-help-btn" class="btn btn-sm btn-outline-info">Keyboard Shortcuts</button>
                </div>
                
                <div id="questions-container">
                    <!-- Questions will be loaded here dynamically -->
                </div>
                
                <div class="navigation-buttons">
                    <button id="prev-btn" class="btn btn-secondary">Previous</button>
                    <button id="next-btn" class="btn btn-primary">Next</button>
                    <button id="submit-exam-btn" class="btn btn-accent">Submit Exam</button>
                </div>
                
                <div class="question-nav" id="question-nav">
                    <!-- Question navigation buttons -->
                </div>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" class="card text-center">
            <div class="card-header">
                Examination Completed
            </div>
            <div class="card-body">
                <h5 id="student-result-info" class="mb-3"></h5>
                <h3 class="text-success">Your Score: <span id="score-display">0</span>/100</h3>
                <p id="result-message"></p>
                
                <!-- Certificate -->
                <div class="print-certificate" id="print-certificate">
                    <div class="certificate-header">TECHXAGON ACADEMY</div>
                    <div class="certificate-subtitle">Police Secondary School Akure</div>
                    <div class="certificate-subtitle">Certificate of Examination</div>
                    
                    <div class="certificate-body">
                        <p>This is to certify that</p>
                        <h2 id="cert-student-name"></h2>
                        <p>Student ID: <strong id="cert-student-id"></strong></p>
                        <p>Has successfully completed the examination for</p>
                        <h3 id="cert-class-info"></h3>
                        
                        <div class="certificate-score">
                            <div class="score-breakdown">
                                <div>Theory Score: <strong id="cert-theory-score">0</strong>/60</div>
                                <div>Practical Score: <strong id="cert-practical-score">0</strong>/40</div>
                                <div class="total-score">Total Score: <strong id="cert-total-score">0</strong>/100</div>
                            </div>
                        </div>
                        
                        <p>Percentage: <strong id="cert-percentage"></strong></p>
                        <p>Grade: <strong id="cert-grade"></strong></p>
                        <p>Date: <strong id="cert-date"></strong></p>
                    </div>
                    
                    <div class="certificate-footer">
                        <div class="signature-line">
                            <div id="cert-coordinator-signature">
                                <div class="signature-placeholder"></div>
                            </div>
                            <small>CEO TECHXAGON ACADEMY</small>
                        </div>
                        <div class="signature-line">
                            <div id="cert-principal-signature">
                                <div class="signature-placeholder"></div>
                            </div>
                            <small>VP ACADMICS SNR (DD)</small>
                        </div>
                    </div>
                </div>
                
                <div class="d-flex justify-content-center gap-2 no-print">
                    <button id="print-result-btn" class="btn btn-success">Print Result</button>
                    <button id="retake-exam-btn" class="btn btn-primary">Take Another Exam</button>
                    <button id="logout-after-exam" class="btn btn-secondary">Logout</button>
                </div>
            </div>
        </div>

        <!-- Admin Login -->
        <div id="admin-login" class="card">
            <div class="card-header">
                ADMIN LOGIN
            </div>
            <div class="card-body">
                <div class="form-group">
                    <label for="admin-username" class="form-label">Username</label>
                    <input type="text" class="form-control" id="admin-username" value="">
                </div>
                <div class="form-group">
                    <label for="admin-password" class="form-label">Password</label>
                    <input type="password" class="form-control" id="admin-password" value="">
                </div>
                <button id="login-btn" class="btn btn-primary">Login</button>
                <button id="back-to-student-login" class="btn btn-secondary">Back</button>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="admin-dashboard" class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <span>ADMIN DASHBOARD</span>
                <button id="logout-btn" class="btn btn-secondary">Logout</button>
            </div>
            <div class="card-body">
                <div class="tabs">
                    <div class="tab-buttons">
                        <button class="tab-button active" data-tab="results-panel">View Results</button>
                        <button class="tab-button" data-tab="students-panel">Manage Students</button>
                        <button class="tab-button" data-tab="questions-panel">Manage Questions</button>
                        <button class="tab-button" data-tab="signatures-panel">Manage Signatures</button>
                        <button class="tab-button" data-tab="realtime-panel">Real-Time Controls</button>
                    </div>
                    
                    <div class="tab-content">
                        <!-- Results Panel -->
                        <div id="results-panel" class="tab-pane active">
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="class-select-admin" class="form-label">Select Class:</label>
                                    <select class="form-select" id="class-select-admin">
                                        <option value="">-- Select Class --</option>
                                        <option value="JSS1">JSS 1</option>
                                        <option value="JSS2">JSS 2</option>
                                        <option value="JSS3">JSS 3</option>
                                        <option value="SS1">SS 1</option>
                                        <option value="SS2">SS 2</option>
                                        <option value="SS3">SS 3</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label for="arm-select-admin" class="form-label">Select Arm:</label>
                                    <select class="form-select" id="arm-select-admin">
                                        <option value="">-- All Arms --</option>
                                        <option value="A">A</option>
                                        <option value="B">B</option>
                                        <option value="C">C</option>
                                        <option value="D">D</option>
                                        <option value="E">E</option>
                                        <option value="F">F</option>
                                        <option value="G">G</option>
                                        <option value="H">H</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div id="admin-results">
                                <!-- Results will be loaded here -->
                            </div>
                            
                            <div class="d-flex gap-2">
                                <button id="export-results" class="btn btn-accent">Export to Excel</button>
                                <button id="print-admin-results" class="btn btn-primary">Print Results</button>
                            </div>
                        </div>

                        <!-- Students Panel -->
                        <div id="students-panel" class="tab-pane">
                            <h5>Student Registration Management</h5>
                            
                            <!-- Import Section -->
                            <div class="import-section">
                                <h6>Import Students from Excel/CSV</h6>
                                <p class="text-muted">Upload a CSV file with columns: Student ID, Full Name, Class, Arm</p>
                                <div class="row">
                                    <div class="col-md-8">
                                        <input type="file" id="import-file" class="form-control" accept=".csv,.xlsx,.xls">
                                    </div>
                                    <div class="col-md-4">
                                        <button id="import-students-btn" class="btn btn-info w-100">Import Students</button>
                                    </div>
                                </div>
                                <div class="import-preview" id="import-preview">
                                    <!-- Import preview will be shown here -->
                                </div>
                            </div>
                            
                            <!-- Data Backup Section -->
                            <div class="card mt-4">
                                <div class="card-header">
                                    <h6>Data Backup & Recovery</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <button id="backup-data-btn" class="btn btn-success w-100 mb-2">
                                                üì• Backup All Data
                                            </button>
                                            <small class="text-muted">Download complete system data as JSON</small>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="input-group">
                                                <input type="file" id="restore-file" class="form-control" accept=".json">
                                                <button id="restore-data-btn" class="btn btn-warning">
                                                    üì§ Restore
                                                </button>
                                            </div>
                                            <small class="text-muted">Restore from backup JSON file</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Data Management Section -->
                            <div class="card mt-4">
                                <div class="card-header">
                                    <h6>Data Management</h6>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <button id="clear-all-students" class="btn btn-danger w-100 mb-2">
                                                üóëÔ∏è Clear All Students
                                            </button>
                                            <small class="text-muted">Delete all student records</small>
                                        </div>
                                        <div class="col-md-4">
                                            <button id="clear-all-results" class="btn btn-danger w-100 mb-2">
                                                üóëÔ∏è Clear All Results
                                            </button>
                                            <small class="text-muted">Delete all exam results</small>
                                        </div>
                                        <div class="col-md-4">
                                            <button id="view-auto-registered" class="btn btn-info w-100 mb-2">
                                                üë• Auto-Registered Students
                                            </button>
                                            <small class="text-muted">View students who auto-registered</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Add Student -->
                            <div class="card mb-4">
                                <div class="card-header">
                                    Add New Student
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-3 form-group">
                                            <label for="new-student-id" class="form-label">Student ID *</label>
                                            <input type="text" class="form-control" id="new-student-id" placeholder="e.g., PSSA/JSS1A/001">
                                        </div>
                                        <div class="col-md-3 form-group">
                                            <label for="new-student-name" class="form-label">Full Name *</label>
                                            <input type="text" class="form-control" id="new-student-name" placeholder="Enter full name">
                                        </div>
                                        <div class="col-md-3 form-group">
                                            <label for="new-student-class" class="form-label">Class *</label>
                                            <select class="form-select" id="new-student-class">
                                                <option value="">Select</option>
                                                <option value="JSS1">JSS 1</option>
                                                <option value="JSS2">JSS 2</option>
                                                <option value="JSS3">JSS 3</option>
                                                <option value="SS1">SS 1</option>
                                                <option value="SS2">SS 2</option>
                                                <option value="SS3">SS 3</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3 form-group">
                                            <label for="new-student-arm" class="form-label">Arm *</label>
                                            <select class="form-select" id="new-student-arm">
                                                <option value="">Select</option>
                                                <option value="A">A</option>
                                                <option value="B">B</option>
                                                <option value="C">C</option>
                                                <option value="D">D</option>
                                                <option value="E">E</option>
                                                <option value="F">F</option>
                                                <option value="G">G</option>
                                                <option value="H">H</option>
                                            </select>
                                        </div>
                                    </div>
                                    <button id="add-student-btn" class="btn btn-success">Add Student</button>
                                </div>
                            </div>

                            <!-- Student Filters -->
                            <div class="row mb-3">
                                <div class="col-md-4 form-group">
                                    <label for="filter-class" class="form-label">Filter by Class:</label>
                                    <select class="form-select" id="filter-class">
                                        <option value="">All Classes</option>
                                        <option value="JSS1">JSS 1</option>
                                        <option value="JSS2">JSS 2</option>
                                        <option value="JSS3">JSS 3</option>
                                        <option value="SS1">SS 1</option>
                                        <option value="SS2">SS 2</option>
                                        <option value="SS3">SS 3</option>
                                    </select>
                                </div>
                                <div class="col-md-4 form-group">
                                    <label for="filter-arm" class="form-label">Filter by Arm:</label>
                                    <select class="form-select" id="filter-arm">
                                        <option value="">All Arms</option>
                                        <option value="A">A</option>
                                        <option value="B">B</option>
                                        <option value="C">C</option>
                                        <option value="D">D</option>
                                        <option value="E">E</option>
                                        <option value="F">F</option>
                                        <option value="G">G</option>
                                        <option value="H">H</option>
                                    </select>
                                </div>
                                <div class="col-md-4 form-group">
                                    <label for="search-student" class="form-label">Search:</label>
                                    <input type="text" class="form-control" id="search-student" placeholder="Search by name or ID">
                                </div>
                            </div>

                            <!-- Students Table -->
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Student ID</th>
                                            <th>Full Name</th>
                                            <th>Class</th>
                                            <th>Arm</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="students-list">
                                        <!-- Students will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="mt-3">
                                <button id="export-students" class="btn btn-accent">Export Student List</button>
                            </div>
                        </div>

                        <!-- Questions Management Panel -->
                        <div id="questions-panel" class="tab-pane">
                            <div class="card">
                                <div class="card-header">
                                    <h4>Questions Management</h4>
                                </div>
                                <div class="card-body">
                                    <!-- Quick Actions -->
                                    <div class="row mb-4">
                                        <div class="col-md-12">
                                            <div class="d-flex gap-2 mb-3">
                                                <button id="bulk-upload-questions" class="btn btn-success">
                                                    üì§ Upload Questions (Bulk)
                                                </button>
                                                <button id="add-single-question" class="btn btn-primary">
                                                    ‚ûï Add Single Question
                                                </button>
                                                <button id="clear-all-questions" class="btn btn-danger">
                                                    üóëÔ∏è Clear All Questions
                                                </button>
                                            </div>
                                            <div class="alert alert-info">
                                                <strong>Note:</strong> All questions are stored locally and synced with Firebase in real-time.
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Bulk Upload Section -->
                                    <div id="bulk-upload-section" class="mb-4 p-3 border rounded" style="display: none;">
                                        <h5>Bulk Upload Questions</h5>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="form-label">Select Class:</label>
                                                    <select id="bulk-upload-class" class="form-select">
                                                        <option value="">Select Class</option>
                                                        <option value="JSS1">JSS 1</option>
                                                        <option value="JSS2">JSS 2</option>
                                                        <option value="JSS3">JSS 3</option>
                                                        <option value="SS1">SS 1</option>
                                                        <option value="SS2">SS 2</option>
                                                        <option value="SS3">SS 3</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="form-label">Upload JSON File:</label>
                                                    <input type="file" id="questions-json-file" class="form-control" accept=".json">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">JSON Format:</label>
                                            <textarea class="form-control" rows="6" readonly>
[
  {
    "question": "What is 2 + 2?",
    "options": ["3", "4", "5", "6"],
    "correct": 1
  },
  {
    "question": "What is the capital of France?",
    "options": ["London", "Berlin", "Paris", "Madrid"],
    "correct": 2
  }
]
                                            </textarea>
                                        </div>
                                        <div class="alert alert-warning">
                                            <strong>Important:</strong> 
                                            <ul class="mb-0">
                                                <li>JSON must be an array of question objects</li>
                                                <li>Each question must have: question (string), options (array of 4 strings), correct (number 0-3)</li>
                                                <li>Correct answer index: 0 = Option A, 1 = Option B, 2 = Option C, 3 = Option D</li>
                                            </ul>
                                        </div>
                                        <div class="d-flex gap-2">
                                            <button id="process-bulk-upload" class="btn btn-success">Process Upload</button>
                                            <button id="cancel-bulk-upload" class="btn btn-secondary">Cancel</button>
                                        </div>
                                    </div>

                                    <!-- Single Question Section -->
                                    <div id="single-question-section" class="mb-4 p-3 border rounded" style="display: none;">
                                        <h5>Add Single Question</h5>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="form-label">Select Class:</label>
                                                    <select id="single-question-class" class="form-select">
                                                        <option value="">Select Class</option>
                                                        <option value="JSS1">JSS 1</option>
                                                        <option value="JSS2">JSS 2</option>
                                                        <option value="JSS3">JSS 3</option>
                                                        <option value="SS1">SS 1</option>
                                                        <option value="SS2">SS 2</option>
                                                        <option value="SS3">SS 3</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Question:</label>
                                            <textarea id="single-question-text" class="form-control" rows="3" placeholder="Enter question text"></textarea>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="form-label">Option A:</label>
                                                    <input type="text" id="option-a" class="form-control" placeholder="Enter option A">
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="form-label">Option B:</label>
                                                    <input type="text" id="option-b" class="form-control" placeholder="Enter option B">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="form-label">Option C:</label>
                                                    <input type="text" id="option-c" class="form-control" placeholder="Enter option C">
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="form-label">Option D:</label>
                                                    <input type="text" id="option-d" class="form-control" placeholder="Enter option D">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="form-label">Correct Answer:</label>
                                                    <select id="correct-answer" class="form-select">
                                                        <option value="0">Option A</option>
                                                        <option value="1">Option B</option>
                                                        <option value="2">Option C</option>
                                                        <option value="3">Option D</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="d-flex gap-2">
                                            <button id="save-single-question" class="btn btn-success">Save Question</button>
                                            <button id="cancel-single-question" class="btn btn-secondary">Cancel</button>
                                        </div>
                                    </div>

                                    <!-- Current Questions Overview -->
                                    <div class="card mt-4">
                                        <div class="card-header">
                                            <h6>Current Questions Overview</h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="row" id="questions-overview">
                                                <!-- Questions overview will be loaded here dynamically -->
                                                <div class="col-md-12">
                                                    <p class="text-muted">Loading questions overview...</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Signatures Panel -->
                        <div id="signatures-panel" class="tab-pane">
                            <div class="card">
                                <div class="card-header">
                                    <h4>Signature Management</h4>
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="signature-upload-section">
                                                <h5>CEO TECHXAGON ACADEMY Signature</h5>
                                                <div class="form-group">
                                                    <input type="file" id="coordinator-signature-upload" accept="image/*" class="form-control">
                                                </div>
                                                <div class="signature-preview">
                                                    <img id="coordinator-preview" class="signature-image-preview">
                                                </div>
                                                <button id="remove-coordinator-signature" class="btn btn-danger btn-sm mt-2">Remove Signature</button>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="signature-upload-section">
                                                <h5>School Principal Signature</h5>
                                                <div class="form-group">
                                                    <input type="file" id="principal-signature-upload" accept="image/*" class="form-control">
                                                </div>
                                                <div class="signature-preview">
                                                    <img id="principal-preview" class="signature-image-preview">
                                                </div>
                                                <button id="remove-principal-signature" class="btn btn-danger btn-sm mt-2">Remove Signature</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-4">
                                        <div class="alert alert-info">
                                            <strong>Instructions:</strong><br>
                                            ‚Ä¢ Upload signature images in PNG, JPG, or JPEG format<br>
                                            ‚Ä¢ Recommended size: 150x60 pixels for best results<br>
                                            ‚Ä¢ Signatures will appear on all printed result certificates<br>
                                            ‚Ä¢ Signatures are stored locally in your browser
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Real-Time Controls Panel -->
                        <div id="realtime-panel" class="tab-pane">
                            <div class="card mb-4">
                                <div class="card-header">
                                    <h5>Real-Time System Status</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <div class="alert alert-info">
                                                <strong>Firebase Status:</strong> 
                                                <span id="real-time-status-text" class="badge">Checking...</span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <button id="test-firebase-btn" class="btn btn-info w-100">
                                                Test Firebase Connection
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-12">
                                            <h6>Broadcast Message to All Users</h6>
                                            <div class="input-group mb-3">
                                                <input type="text" id="broadcast-message" class="form-control" 
                                                       placeholder="Enter message to broadcast to all students...">
                                                <button id="broadcast-btn" class="btn btn-warning">
                                                    Broadcast
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="row mt-4">
                                        <div class="col-md-12">
                                            <h6>Quick Question Correction</h6>
                                            <div class="row">
                                                <div class="col-md-3">
                                                    <select class="form-select" id="rt-class">
                                                        <option value="">Select Class</option>
                                                        <option value="JSS1">JSS 1</option>
                                                        <option value="JSS2">JSS 2</option>
                                                        <option value="JSS3">JSS 3</option>
                                                        <option value="SS1">SS 1</option>
                                                        <option value="SS2">SS 2</option>
                                                        <option value="SS3">SS 3</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-3">
                                                    <input type="number" class="form-control" id="rt-question-index" 
                                                           placeholder="Question No. (1-30)" min="1" max="30">
                                                </div>
                                                <div class="col-md-4">
                                                    <input type="text" class="form-control" id="rt-correction-text" 
                                                           placeholder="Correction text...">
                                                </div>
                                                <div class="col-md-2">
                                                    <button id="quick-correction-btn" class="btn btn-danger w-100">
                                                        Correct
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="session-timeout-modal" class="modal">
        <div class="modal-content">
            <h3>Session Timeout Warning</h3>
            <p>Your session is about to expire due to inactivity.</p>
            <p>Would you like to continue?</p>
            <div class="d-flex gap-2 justify-content-center mt-3">
                <button id="continue-session-btn" class="btn btn-primary">Continue Session</button>
                <button id="logout-modal-btn" class="btn btn-secondary">Logout</button>
            </div>
        </div>
    </div>

    <div id="keyboard-help-modal" class="modal">
        <div class="modal-content">
            <h3>Keyboard Shortcuts</h3>
            <div class="keyboard-shortcuts">
                <div class="shortcut-item">
                    <kbd>‚Üê</kbd> <span>Previous Question</span>
                </div>
                <div class="shortcut-item">
                    <kbd>‚Üí</kbd> <span>Next Question</span>
                </div>
                <div class="shortcut-item">
                    <kbd>1-4</kbd> <span>Select Answer (A-D)</span>
                </div>
                <div class="shortcut-item">
                    <kbd>Space</kbd> <span>Submit Exam (when ready)</span>
                </div>
            </div>
            <button id="close-keyboard-help" class="btn btn-primary mt-3 w-100">Close</button>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div id="global-loading">
        <div class="spinner-border text-primary"></div>
    </div>

    <!-- Connection Status Bar -->
    <div id="connection-status">
        <div class="container d-flex justify-content-between">
            <span>Techxagon Academy CBT System</span>
            <span id="live-status">üî¥ Offline</span>
        </div>
    </div>

    <!-- Scripts -->
    <script src="scripts.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
</body>
</html>
